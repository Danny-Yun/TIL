# 위젯(Widget)

### 위젯이란?

1. 독립적으로 실행되는 작은 프로그램
2. 주로 바탕화면 등에서 날씨나 뉴스, 생활정보 등을 보여준다.
3. 그래픽이나 데이터 요소를 처리하는 함수를 가지고 있다. 

<br>

## 플러터에서의 위젯

1.  UI를 만들고 구성하는 모든 기본 단위 요소    

예를 들어, 간단한 로그인 화면을 구성한다고 하자. 화면에는 텍스트, 버튼, 텍스트 상자, 아이콘, 이미지 등등이 들어간다.      
이러한 것들을 플러터에서는 모두 위젯이라 한다. 

2. 눈에 보이지 않는 요소들까지 위젯

center, padding, column과 같이 화면에 보이지 않는 레이아웃 요소들도 플러터에서는 위젯이라 부른다.

3. **Everything is a Widget**

결론적으로, 플러터에서는 모든 것이 위젯이다. 여러 위젯들이 쌓여서 만들어진 앱 그 자체도 하나의 위젯이다.     
즉 위젯으로 시작해서 위젯으로 끝난다. 

왠지 코드가 지저분 하고 체계적으로 보이지 않을 거라고 생각할 수 있는데, 생각보다 플러터에서는 굉장히 직관적으로 코딩을 할 수 있다. 

<br>

## 위젯의 종류

**1. Stateless Widget**

직역하면 상태가 없는 위젯을 의미한다. 이는 화면 상에 존재하지만 실시간 데이터(값)를 저장하지 않으며 어떠한 상태도 가지지 않는다. 변화나 상태가 없는 매우 정적인 위젯이다. 

예시 - 화면의 로고가 띄어져 있으면 클릭한다거나 어떠한 액션으로도 상태가 변하지 않는 단순한 이미지

**2. Stateful Widget**

직역하면 상태를 가지는 위젯을 의미한다. 이는 사용자의 행동이나 데이터에 따라 모양이나 값이 바뀐다. 계속 움직임이나 변화가 있는 위젯이라 볼 수 있다.

예시 - 사용자가 클릭하면 모양과 상태가 바뀌는 체크박스

**3. Inherited Widget**

직역하면 상속된 위젯을 의미한다. 이는 말 그대로 상속하는 것으로, 데이터를 특정 위젯의 하층에 있는 모든 위젯에게 효율적으로 전달하는 플러터만의 특별한 위젯이다. 

<br>

## Widget Tree

앞서 말했듯, 플러터에서는 모든 요소들이 위젯이다. 그래서 이 **위젯들을 나열해서 하나의 계층구조**를 가지게 된다.     
이것을 tree 구조로 표현할 수 있다. 

한 Widget내에 얼마든지 다른 Widget들이 포함될 수 있다. 즉 **위에서 부터 아래로** 계층구조를 이루고 있기 때문에,    
대부분의 위젯들이 **부모 자식 관계**로 구성되어 있다.

그래서 부모 위젯(Parent Widget)을 위젯 컨테이너(Widget Container)라고 부르기도 한다. 

<br>

![widget_tree](https://user-images.githubusercontent.com/86466976/143729779-a3c0d61e-06d2-4ffb-8a76-7fc67994b7f9.png)

위 그림의 위젯트리의 최상위에는 프로젝트 이름이 존재한다.

그 하위에는 Material App이 있고, 이 위젯이 실질적으로 모든 위젯을 감싸고 있는 위젯이다.     
또한, 이 위젯을 통해 모든 플러터 위젯을 사용할 수 있다. 

그 밑에는 MyHomePage라는 위젯이 있는데, 이것 또한 커스텀 위젯이다. 이름이 반드시 MyHomePage일 필요는 없으며 여기에서 부터 본격적으로 앱의 디자인과 기능이 만들어진다.

그리고 Scaffold 위젯이 있는데 아주 중요한 위젯이다. 이 위젯이 앱의 디자인(화면)과 기능을 구현하기 위한 빈 페이지를 제공하는 위젯이라고 보면 된다. 이 위젯의 하위에 Text나 Button 등의 위젯이 들어간다.

그 하위에는 AppBar와 그 내부의 Text나 눈에 보이고 보이지 않는 모든 위젯이 포함된다.
